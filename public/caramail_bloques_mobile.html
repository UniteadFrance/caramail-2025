<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>CaraMail — Utilisateurs bloqués (mobile‑friendly)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    *{box-sizing:border-box}
    html,body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#e6e6e6;color:#111}
    a{color:#0047cc;text-decoration:underline}
    .wrap{min-height:100vh;display:flex;flex-direction:column}
    .topbar{background:#cfcfcf;border-bottom:1px solid #9c9c9c;display:flex;align-items:flex-end;gap:8px;flex-wrap:wrap;padding:6px 10px}
    .tabs{display:flex;gap:6px;flex-wrap:wrap;align-items:flex-end;position:relative}
    .tabs:after{content:"";position:absolute;left:0;right:0;bottom:-1px;height:1px;background:#b5b5b5}
    .tab{background:#e9e9e9;padding:6px 10px;border-top:1px solid #fff;border-left:1px solid #fff;border-right:1px solid #8f8f8f;border-bottom:1px solid #8f8f8f;border-radius:4px 4px 0 0;font-weight:700;white-space:nowrap}
    .tab.active{background:#fff;border-bottom-color:#fff}
    .tab.active .tab-label{color:#0047cc;text-decoration:underline}
    .status{margin-left:auto;padding-bottom:6px;font-size:12px;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:50%}
    .container{max-width:900px;margin:0 auto;padding:16px}
    h1{font-size:20px;margin:10px 0 12px}
    .card{background:#fff;border:1px solid #dfe3ec;border-radius:10px;padding:16px;box-shadow:0 12px 36px rgba(0,0,0,.06);margin-bottom:12px}
    .flex{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .input{padding:10px;border:1px solid #cfd7e6;border-radius:8px;font-size:15px;min-width:0;flex:1}
    .btn{padding:10px 14px;border:none;border-radius:8px;background:#0066cc;color:#fff;font-weight:800;cursor:pointer}
    .list{margin-top:12px;border-top:1px dashed #cfd7e6}
    .row{display:grid;grid-template-columns:1fr 120px 120px;gap:8px;align-items:center;padding:10px 0;border-bottom:1px dashed #edf0f6}
    .tag{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid #dfe3ec;background:#f7f9ff;font-size:12px}
    .danger{background:#ff5d6c;border-color:#e34f5e;color:#fff}
    .ghost{background:#efefef;color:#111;border:1px solid #c7ccd6}
    .hint{font-size:12px;color:#5a6a8e;margin-top:6px}
    footer{margin-top:auto;border-top:1px solid #dcdcdc;background:#f3f3f3}
    .foot{max-width:900px;margin:0 auto;padding:12px;color:#555;font-size:12px}
    /* Long nicknames wrap safely */
    .row strong{overflow-wrap:anywhere}
    @media(max-width:760px){
      .status{flex-basis:100%;max-width:100%}
      .row{grid-template-columns:1fr}
      .btn{width:100%}
    }
    @media(max-width:560px){
      .tab{padding:6px 8px;font-size:13px}
      .container{padding:12px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="tabs" aria-label="Onglets">
        <div class="tab"><span class="tab-label">Salons</span></div>
        <div class="tab"><span class="tab-label">PV</span></div>
        <div class="tab"><span class="tab-label">Amis</span></div>
        <div class="tab"><span class="tab-label">Mon compte</span></div>
        <div class="tab active"><span class="tab-label">Utilisateurs bloqués</span></div>
      </div>
      <div class="status">Connecté en tant que <strong>moi@caramail.com</strong></div>
    </div>

    <main class="container">
      <div class="card">
        <h1>Utilisateurs bloqués</h1>
        <div class="flex">
          <input id="pseudo" class="input" placeholder="Pseudo à bloquer (ex: hades_666)">
          <button class="btn" onclick="add()">Bloquer</button>
        </div>
        <div class="hint">Les personnes bloquées ne peuvent plus vous écrire ni en salon, ni en PV.</div>

        <div id="list" class="list">
          <!-- Rows injected here -->
        </div>
      </div>
    </main>

    <footer>
      <div class="foot">
        © 2025 CaraMail — <a href="#">Mentions légales</a> · <a href="#">Confidentialité</a> · <a href="#">Cookies</a>
      </div>
    </footer>
  </div>

  <script>
    const list = document.getElementById('list');
    const pseudo = document.getElementById('pseudo');
    let data = [
      {nick:'#Hades', reason:'spam', date:new Date().toLocaleDateString()},
      {nick:'cyber.tr4ck', reason:'insultes', date:new Date().toLocaleDateString()}
    ];

    function render(){
      list.innerHTML = '';
      if(data.length === 0){
        const div = document.createElement('div');
        div.className = 'hint';
        div.style.padding = '10px 0';
        div.textContent = 'Aucun utilisateur bloqué.';
        list.appendChild(div);
        return;
      }
      data.forEach((u, idx) => {
        const row = document.createElement('div');
        row.className = 'row';
        row.innerHTML = `
          <div><strong>${u.nick}</strong> · <span class="tag">${u.reason||'—'}</span> · <span class="tag">${u.date}</span></div>
          <button class="btn ghost" onclick="unblock(${idx})">Débloquer</button>
          <button class="btn danger" onclick="report(${idx})">Signaler</button>
        `;
        list.appendChild(row);
      });
    }

    function add(){
      const v = (pseudo.value||'').trim();
      if(!v) return;
      data.unshift({nick:v, reason:'manuel', date:new Date().toLocaleDateString()});
      pseudo.value='';
      render();
    }
    function unblock(i){
      if(confirm('Débloquer cet utilisateur ?')){
        data.splice(i,1); render();
      }
    }
    function report(i){
      alert('Signalement transmis (démo) pour ' + data[i].nick);
    }

    render();
  </script>
  <script src="/caramail_nav.js"></script>
</body>
</html>
