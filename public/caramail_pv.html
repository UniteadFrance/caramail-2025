<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>CaraMail ‚Äî Message priv√© (PV)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    /* FULL PAGE, NO EXTERNAL DEPS */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif;background:#e6e6e6;color:#111;overflow:hidden}
    .wrap{height:100vh;display:flex;flex-direction:column}
    /* TOP TABS old‚Äëschool */
    .topbar{background:#cfcfcf;border-bottom:1px solid #9c9c9c;display:flex;align-items:flex-end;gap:12px;flex-wrap:wrap;padding:0 12px}
    .tabs{display:flex;gap:6px;padding-top:8px;position:relative}
    .tabs:after{content:"";position:absolute;left:0;right:0;bottom:-1px;height:1px;background:#b5b5b5}
    .tab{background:#e9e9e9;padding:6px 10px;border-top:1px solid #fff;border-left:1px solid #fff;border-right:1px solid #8f8f8f;border-bottom:1px solid #8f8f8f;border-radius:4px 4px 0 0;font-weight:700;white-space:nowrap}
    .tab.active{background:#fff;border-bottom-color:#fff}
    .tab.active .tab-label{color:#0047cc;text-decoration:underline}
    .status{margin-left:auto;padding-bottom:6px;font-size:12px;color:#333;white-space:nowrap}
    /* MAIN AREA (no vertical scroll; content fits viewport) */
    .main{flex:1 1 auto;display:flex;gap:10px;padding:12px;overflow:hidden}
    .pv-panel{flex:1 1 auto;background:#f7f7f7;border:1px solid #cfcfcf;border-radius:8px;display:flex;flex-direction:column;min-width:0;overflow:hidden}
    .header{display:flex;align-items:center;gap:10px;justify-content:space-between;background:linear-gradient(#efefef,#e6e6e6);border-bottom:1px solid #d0d0d0;padding:10px}
    .who{font-weight:800;color:#0b4a7a}
    .actions{display:flex;gap:8px}
    .btn{padding:6px 10px;border:1px solid #bdbdbd;border-radius:6px;background:#efefef;font-weight:700;cursor:pointer}
    .btn.danger{background:#ffd8d8;border-color:#d78a8a}
    /* DIALOG (no scroll; clipped if overflow to respect no-scroll requirement) */
    .dialogue{flex:1 1 auto;padding:12px;background:#fff;overflow:hidden;min-height:0}
    .line{margin:6px 0;line-height:1.45;font-size:14px;display:flex;gap:6px}
    .left .nick{color:#0044cc;font-weight:700}
    .right{justify-content:flex-end}
    .right .nick{color:#cc0000;font-weight:700}
    .bubble{max-width:70%;padding:8px 10px;border:1px solid #e6e6e6;border-radius:10px;background:#fafafa}
    .right .bubble{background:#eef5ff;border-color:#cfe1ff}
    .sys{font-style:italic;color:#8a8a8a;font-size:13px;text-align:center}
    /* INPUT */
    .input{display:flex;gap:8px;align-items:center;border-top:1px solid #dcdcdc;background:linear-gradient(#f6f6f6,#ececec);padding:8px;flex:0 0 auto}
    .txt{flex:1 1 auto;padding:10px;border:1px solid #cfcfcf;border-radius:8px;min-height:40px;resize:vertical}
    .send{padding:10px 14px;background:#0066cc;color:#fff;border:none;border-radius:8px;font-weight:800;cursor:pointer}
    .footer{padding:8px 12px;font-size:12px;color:#666;border-top:1px solid #ddd;background:#f3f3f3;flex:0 0 auto}
    @media (max-width:560px){
      .tab{padding:6px 8px;font-size:13px}
      .status{flex-basis:100%}
      .bubble{max-width:84%}
    }
  </style>
</head>
<body>
  <div class="wrap" role="application" aria-label="Conversation priv√©e CaraMail (PV)">
    <div class="topbar">
      <div class="tabs" aria-label="Onglets">
        <div class="tab"><span class="tab-label">Salons</span></div>
        <div class="tab"><span class="tab-label">Connect√©(e)s</span></div>
        <div class="tab"><span class="tab-label">Options</span></div>
        <div class="tab"><span class="tab-label">Ami(e)s</span></div>
        <div class="tab active"><span class="tab-label">Message priv√©</span></div>
      </div>
      <div class="status">Connect√© en tant que <strong>moi</strong></div>
    </div>

    <div class="main">
      <section class="pv-panel">
        <div class="header">
          <div class="who">Discussion priv√©e avec <span style="text-decoration:underline">caranormandie</span></div>
          <div class="actions">
            <button class="btn" title="Retour aux salons">‚Üê Salons</button>
            <button class="btn">Ajouter aux ami(e)s</button>
            <button class="btn danger">Bloquer</button>
          </div>
        </div>

        <div id="dialogue" class="dialogue" aria-live="polite">
          <div class="line left">
            <span class="nick">caranormandie&gt;</span>
            <div class="bubble">Salut, tu vois mes messages en PV ?</div>
          </div>
          <div class="line right">
            <div class="bubble">Oui, bien re√ßu !</div>
          </div>
          <div class="line left">
            <span class="nick">caranormandie&gt;</span>
            <div class="bubble">Parfait. Ici c‚Äôest juste nous deux, pas les mod√©s üòÑ</div>
          </div>
          <div class="sys">‚Äî Les messages resteront visibles tant que la fen√™tre est ouverte (d√©mo) ‚Äî</div>
        </div>

        <div class="input" role="region" aria-label="Saisie">
          <input id="text" class="txt" placeholder="√âcris un message priv√©...">
          <button id="sendBtn" class="send">Envoyer</button>
        </div>

        <div class="footer">
          Conversation priv√©e CaraMail ‚Äî <strong>No‚Äëscroll</strong> ‚Äî <a href="#" style="color:#0047cc;text-decoration:underline">Mentions</a> ¬∑ <a href="#" style="color:#0047cc;text-decoration:underline">Confidentialit√©</a> ¬∑ <a href="#" style="color:#0047cc;text-decoration:underline">Cookies</a>
        </div>
      </section>
    </div>
  </div>

  <script>
    // Mini simulation : ajoute une bulle √† droite (moi) puis une r√©ponse gauche.
    (function(){
      var dlg = document.getElementById('dialogue');
      var send = document.getElementById('sendBtn');
      var text = document.getElementById('text');

      function addLine(side, pseudo, content){
        var line = document.createElement('div');
        line.className = 'line ' + side;
        if(side === 'left'){
          var nick = document.createElement('span');
          nick.className = 'nick';
          nick.textContent = pseudo + '>';
          var bubble = document.createElement('div');
          bubble.className = 'bubble';
          bubble.textContent = content;
          line.appendChild(nick); line.appendChild(bubble);
        }else{
          var bubbleR = document.createElement('div');
          bubbleR.className = 'bubble';
          bubbleR.textContent = content;
          var nickR = document.createElement('span');
          nickR.className = 'nick';
          nickR.textContent = pseudo + '>';
          line.appendChild(bubbleR); line.appendChild(nickR);
        }
        dlg.appendChild(line);
        // Pas d'auto-scroll pour respecter l'option no-scroll
      }

      function reply(){
        var replies = ["Top !", "ok ^^", "je check", "√† plus", "üòÇ"];
        addLine('left', 'caranormandie', replies[Math.floor(Math.random()*replies.length)]);
      }

      send.addEventListener('click', function(){
        var val = (text.value||'').trim();
        if(!val) return;
        addLine('right', 'moi', val);
        text.value = '';
        setTimeout(reply, 700);
      });

      text.addEventListener('keydown', function(e){
        if(e.key === 'Enter' && !e.shiftKey){
          e.preventDefault(); send.click();
        }
      });
    })();
  </script>
</body>
</html>
